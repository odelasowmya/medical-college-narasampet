(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6164],{94554:function(l,n,e){"use strict";e.d(n,{j:function(){return p}});var a=e(52322),t=e(7415);e(5945),e(21595),e(98390);var o=(0,e(46724).c)({defaultClassName:"bglng83 _1286nb12il _1286nb128l _1286nb1239 _1286nb12d9 _1286nb14k3 _1286nb14lf _1286nb14mr _1286nb14o3 _1286nb12r3 _1286nb12nr _1286nb13p9 _1286nb119",variantClassNames:{mode:{follow:"_1286nb16ea _1286nb17os _1286nb17up",following:"_1286nb16ea _1286nb16ly _1286nb17os _1286nb182g"}},defaultVariants:{mode:"follow"},compoundVariants:[]}),s="bglng86",c=e(27674),r=e(21610),i=e(64215),f=e(2784),w=e(53476),b=e(63727);let h=async()=>{let l=await fetch("/api/social/follow");if(!l.ok)throw Error();return await l.json()},u=(0,w.cn)({key:"userFollowsState",default:[],effects:[l=>{let{setSelf:n}=l;(async()=>{let l=async()=>await h();n(await l())})()}]}),d=(0,w.CG)({key:"authorUserFollow",get:l=>{let{id:n}=l;return l=>{let{get:e}=l;return!!e(b.UA)&&e(u).includes(n)}},set:l=>{let{id:n}=l;return(l,e)=>{let{get:a,set:t}=l,o=a(u);t(u,e?o.filter(l=>l!==n):[...o,n])}}});var _=e(85074);let g=async(l,n)=>{if(!(await fetch("/api/social/follow?id=".concat(n),{method:l?"DELETE":"PUT"})).ok)throw Error("There was a problem toggling the follow")},m=l=>{let[n,e]=(0,f.useState)(!0),{setToast:a}=(0,_.p)(),t=(0,r.dO)(),o=(0,i.aw)(),[s,b]=(0,w.FV)(d({id:l})),h=(0,r.A9)(),u=(0,f.useCallback)(()=>{if(!t){h(),window.location.href="".concat(c.YC.href,"?").concat(o);return}e(!1),g(s,l).then(()=>b(s)).catch(()=>a()).finally(()=>e(!0))},[t,s,l,h,o,b,a]);return{following:s,disabled:!n,onClick:u}},p=l=>{let{id:n}=l,{t:e}=(0,t.$G)("common"),{following:c,onClick:r,disabled:i}=m(n);return c?(0,a.jsxs)("button",{className:o({mode:"following"}),onClick:r,disabled:i,children:[(0,a.jsx)("span",{className:s,children:e("following")}),(0,a.jsx)("span",{className:s,children:e("unfollow")})]}):(0,a.jsx)("button",{className:o(),onClick:r,disabled:i,children:e("follow")})}},52084:function(l,n,e){"use strict";var a=e(52322);n.Z=l=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...l,children:(0,a.jsx)("path",{d:"M462.998 325.742c0-75.526-59.998-149.797-148.419-149.797-38.906 0-75.989 13.503-104.409 39.715a153 153 0 0 0-3.17 3.009 155 155 0 0 0-3.17-3.009c-28.42-26.212-65.503-39.715-104.409-39.715-88.421 0-148.419 74.271-148.419 149.797 0 40.557 15.467 78.684 44.143 107.36l-.002-.002L161.01 599.011c12.276 12.28 28.6 19.043 45.964 19.044h.005l.022-.001.022.001h.005c17.364-.001 33.688-6.765 45.964-19.044l165.867-165.912-.002.002c28.674-28.675 44.141-66.803 44.141-107.359M383.5 397.746l-.002.002L217.63 563.66a14.9 14.9 0 0 1-10.607 4.395h-.001l-.022-.001-.022.001h-.001a14.9 14.9 0 0 1-10.607-4.395L30.503 397.749l-.002-.002C11.337 378.583 1.002 353.104 1.002 326c0-54.451 44.665-100.246 100.747-100.246 24.43 0 48.756 9.003 68.184 26.66 15.735 14.301 17.818 30.356 37.068 30.356s21.333-16.055 37.068-30.356c19.427-17.658 43.753-26.66 68.184-26.66C368.335 225.754 413 271.549 413 326c-.001 27.104-10.337 52.583-29.5 71.746"})})},98390:function(){}}]);